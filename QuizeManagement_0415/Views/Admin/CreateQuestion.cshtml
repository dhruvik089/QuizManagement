@model QuizeManagement.Models.ViewModel.QuestionModel
@{
    Layout = "~/Views/Shared/_LayoutAdminPage.cshtml";
}
<div class="card mt-3 ">
    <h5 class="card-header">Add Question</h5>
    <div class="card-body ">
        <form method="post" >
            <div class="card  justify-content-center question-container mb-5">
                <div class="card-body  p-2  w-50 mx-auto">
                    <div class="form-group">
                        <label class="form-check-label">Question 1</label>

                        @Html.TextAreaFor(model => model.Question_txt, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.Question_txt,"",htmlAttributes:new { @class="txt-danger"})
                       
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                @Html.Label("Option 1", htmlAttributes: new { @class = "control-label" })
                                @Html.TextBox("options[0]", null, new { @class = "form-control"})
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                @Html.Label("Option 2", htmlAttributes: new { @class = "control-label" })
                                @Html.TextBox("options[1]", null, new { @class = "form-control"})
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                @Html.Label("Option 3", htmlAttributes: new { @class = "control-label" })
                                @Html.TextBox("options[2]", null, new { @class = "form-control" })
                            
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                @Html.Label("Option 4", htmlAttributes: new { @class = "control-label" })
                                @Html.TextBox("options[3]", null, new { @class = "form-control" })
                               
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.Label("Correct Answer", htmlAttributes: new { @class = "control-label" })
                        <select class="form-select form-control">
                            <option selected hidden>Choose correct answer</option>
                            <option value="1">Option 1</option>
                            <option value="2">Option 2</option>
                            <option value="3">Option 3</option>
                            <option value="4">Option 4</option>
                        </select>
                      
                    </div>
                </div>
            </div>
            <div class="d-flex justify-content-center container">
                @Html.ActionLink("Back to HomePage", "Admin", new { Controller = "Admin" }, new { @class = "m-2 btn btn-warning" })
                <button type="submit" id="submit-btn" class="m-2 btn btn-primary" disabled>Submit</button>
                <button type="button" id="add-question-btn" class="m-2 btn btn-dark text-White " onclick="AddQuestion()">Add Question</button>
            </div>
        </form>
    </div>
</div>

<script>
    var QuestionIndex = 2;
    function AddQuestion() {
        if (QuestionIndex < 6) {
        var QuestionHTML = `<div class="card bg-light justify-content-center">
                <div class="card-body  p-2 w-50 mx-auto">
                    <div class="form-group">
                        <label class="form-check-label">Question ${QuestionIndex}</label>

                                                @Html.TextAreaFor(model => model.Question_txt, new { @class = "form-control" })
                        <div class="invalid-feedback">
                            Please enter Question.
                        </div>
                        <div class="valid-feedback">
                            Looks good !
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                @Html.Label("Option 1", htmlAttributes: new { @class = "control-label" })
                                @Html.TextBox("options[0]", null, new { @class = "form-control"  })
                                <div class="invalid-feedback">
                                    Please enter option Text.
                                </div>
                                <div class="valid-feedback">
                                    Looks good !
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                @Html.Label("Option 2", htmlAttributes: new { @class = "control-label" })
                                @Html.TextBox("options[1]", null, new { @class = "form-control"  })
                                <div class="invalid-feedback">
                                    Please enter option Text.
                                </div>
                                <div class="valid-feedback">
                                    Looks good !
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                @Html.Label("Option 3", htmlAttributes: new { @class = "control-label" })
                                @Html.TextBox("options[2]", null, new { @class = "form-control"   })
                                <div class="invalid-feedback">
                                    Please enter option Text.
                                </div>
                                <div class="valid-feedback">
                                    Looks good !
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                @Html.Label("Option 4", htmlAttributes: new { @class = "control-label" })
                                @Html.TextBox("options[3]", null, new { @class = "form-control"  })
                                <div class="invalid-feedback">
                                    Please enter option Text.
                                </div>
                                <div class="valid-feedback">
                                    Looks good !
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.Label("Correct Answer", htmlAttributes: new { @class = "control-label" })
                        <select class="form-select form-control">
                            <option  hidden>Choose correct answer</option>
                            <option value="1">Option 1</option>
                            <option value="2">Option 2</option>
                            <option value="3">Option 3</option>
                            <option value="4">Option 4</option>
                        </select>
                        <div class="invalid-feedback">
                            Please select answer.
                        </div>
                        <div class="valid-feedback">
                            Looks good !
                        </div>
                    </div>
                </div>
            </div>`

            $('.question-container').append(QuestionHTML);
            QuestionIndex++;



            if (QuestionIndex == 6) {
                $("#add-question-btn").prop("disabled", true);
                $("#submit-btn").prop("disabled", false);
            }
        }
    }
</script>